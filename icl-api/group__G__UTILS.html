<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Image Component Library (ICL): Utility classes and Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icl-logo-50.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Image Component Library (ICL)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Utility classes and Functions</div>  </div>
</div><!--header-->
<div class="contents">
<p>TODO!!! The ICLCV package contains functions and classes for region and blob detection and for tracking. However, the most common component is the icl::RegionDetector class, which performs a parameterized connected component analysis on images. Here are some sample application screenshots:</p>
<div class="image">
<img src="region-inspector.png" alt="region-inspector.png"/>
<div class="caption">
icl-region-inspector GUI</div></div>
<h1><a class="anchor" id="BLOB_DEF"></a>
Blobs and Regions</h1>
<p>At first, we have to define the terms "Blob" and "Region":</p>
<p><em> A "Region" is a set of connected pixels. The set of pixels belonging to a single Region has to fulfill a certain criterion of homogeneity (e.g. "all pixels" have exactly the same value"). The term of "connection" must also be defined more precisely in order to avoid misunderstandings. A pixel is connected to all pixels in it's neighborhood, which in turn is given by the 4 pixels (to the left, to the right, above and below) next to the reference pixel. The also very common neighborhood that contains the 8 nearest neighbours is currently not supported. E.g. a connected component analysis yields a list of Regions.<br />
<br />
 A Blob is a more general local spot in an image. Blobs don't have to be connected completely. </em></p>
<h1><a class="anchor" id="SEC_DETECTION_VS_TRACKING"></a>
Detection vs. Tracking</h1>
<pre class="fragment">We differentiate explicitly between &lt;em&gt;detection&lt;/em&gt; and &lt;em&gt;tracking&lt;/em&gt;.
When regions or blobs are &lt;em&gt;detected&lt;/em&gt; in an image, no prior knowledge for the supposed
image location is used, i.e. the region/blob is detected in the whole image.\n
In contrast, blob &lt;em&gt;tracking&lt;/em&gt; of blob means, that blobs are tracked in general
from one time step to another, i.e the former blob location is used as prior guess
for it's location in the current frame (tracking over time).
</pre><h1><a class="anchor" id="BLOB_APPROACHES"></a>
Different Blob Detection Approaches</h1>
<pre class="fragment">The ICLCV package provides some different blob detection and tracking approaches,
that are introduced shorty in the following section. For a more detailed insight
look at the corresponding class descriptions.


\ref G_CBS \n
The Color Blob Searcher API is a template based framework which provides a
mechanism for a color based blob detection. In this approach each blob is
determined by a special color, so blobs with identical colors are mixed together.
Main class is the icl::ColorBlobSearcher template.

\ref G_RD \n
The icl::RegionDetector performs a connected component analysis on images.
Regions that can be found must be connected and
must show identical gray values (color images can not be processed yet). Commonly the
input image of the RegionDetector's &lt;em&gt;detect(...)-method&lt;/em&gt; is a kind of feature
map that shows only a small number of different gray values (see the class
documentation for more detail). The set of detected image regions can be restricted by:
(i) a minimal and maximal gray value and (ii) a minimal and maxmial pixel count
&lt;b&gt;Note:&lt;/b&gt; The algorithm is highly speed-optimized, by using a special kind of
self developed memory handling, which avoids memory allocation and deallocation at
runtime if possible. Given large images with O(pixel count) regions (e.g. ordinary
gray images instead of a feature map) the algorithm may need more physical memory than
available. A very common pre-processing function may be &lt;b&gt;ICLFilter/LUT::reduceBits(..)&lt;/b&gt;.
In section \ref REGION_DETECTOR_EXAMPLE an example is presented.


\ref G_PT \n
These approaches above all perform Blob or region detection. The icl::PositionTracker or
it's generalized version icl::VectorTracker can be used to tracking the resulting regions
or blobs through time.

\ref G_UTILS \n
In this group some additional support classes and functions are provided
</pre><h1><a class="anchor" id="CSS_CORNERS"></a>
The Curvature Scale Space</h1>
<pre class="fragment">The curvature scale space can be used to extract 2D geometry models from regions.
&lt;b&gt;Erik:&lt;/b&gt; Please add some information here!

\image html css-demo.jpg "icl-corner-detection-css-demo GUI"
</pre><h1><a class="anchor" id="REGION_DETECTOR_EXAMPLE"></a>
Region Detection Example</h1>
<table border="0">
<tr>
<td><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="Common_8h.html">ICLQt/Common.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="RegionDetector_8h.html">ICLCV/RegionDetector.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="ColorDistanceOp_8h.html">ICLFilter/ColorDistanceOp.h</a>&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="classicl_1_1qt_1_1GUI.html">icl::qt::GUI</a> gui;</div><div class="line">GenericGrabber grabber;</div><div class="line">RegionDetector rd(100,1E9,255,255);</div><div class="line">ColorDistanceOp cd(<a class="code" href="namespaceicl_1_1core.html#a75d400b4a0049c9cfcfa508ee28ee8a5">Color</a>(0,120,240),100);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> mouse(<span class="keyword">const</span> MouseEvent &amp;e){</div><div class="line">  <span class="keywordflow">if</span>(e.isLeft()){</div><div class="line">    cd.setReferenceColor(e.getColor());</div><div class="line">  }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> init(){</div><div class="line">  grabber.init(<a class="code" href="group__PA.html#gac1c1a1e771ecc0681b8f277040cc2c99">pa</a>(<span class="stringliteral">&quot;-i&quot;</span>));</div><div class="line">  gui &lt;&lt; Draw().handle(<span class="stringliteral">&quot;image&quot;</span>) &lt;&lt; Show();</div><div class="line">  gui[<span class="stringliteral">&quot;image&quot;</span>].install(mouse);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> run(){</div><div class="line">  DrawHandle draw = gui[<span class="stringliteral">&quot;image&quot;</span>];</div><div class="line">  <span class="keyword">const</span> core::ImgBase *I = grabber.grab();</div><div class="line"></div><div class="line">  draw = I;</div><div class="line"></div><div class="line">  std::vector&lt;ImageRegion&gt; rs = rd.detect(cd.apply(I));</div><div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i=0;i&lt;rs.size();++i){</div><div class="line">    draw-&gt;linestrip(rs[i].getBoundary());</div><div class="line">  }</div><div class="line">  draw-&gt;render();</div><div class="line">}</div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> n,<span class="keywordtype">char</span> **v){</div><div class="line">  <span class="keywordflow">return</span> <a class="code" href="namespaceicl_1_1qt.html#a88710c0c58ee1df2517ef4b57894d05d">ICLApp</a>(n,v,<span class="stringliteral">&quot;-input|-i(2)&quot;</span>,init,run).<a class="code" href="classicl_1_1qt_1_1ICLApplication.html#a117474bd97aa1702e0884d8d37372752">exec</a>();</div><div class="line">}</div></div><!-- fragment --> </td><td valign="top"><div class="image">
<img src="icl-online-region-detection-demo-screenshot.png" alt="icl-online-region-detection-demo-screenshot.png"/>
<div class="caption">
icl-online-region-detection-demo screenshot</div></div>
 </td></tr>
</table>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 16 2019 16:50:09 for Image Component Library (ICL) by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
